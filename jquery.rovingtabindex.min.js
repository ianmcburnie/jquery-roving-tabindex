
(function($,window,document,undefined){var pluginName='jquery-roving-tabindex';$.fn.rovingTabindex=function rovingTabindex(rovingItems,options){options=options||{};var wrap=options.wrap;var axis=options.axis;var activeIndex=options.activeIndex||0;return this.each(function onEach(){var $widget=$(this);var $rovingItems=$widget.find(rovingItems);if($rovingItems.size()>0){$rovingItems.eq(activeIndex).attr('tabindex','0');$widget.on('prevRovingTabindex',function onPrev(e){var $this=$(e.target);var itemIdx=$this.data(pluginName).idx;var $prevEl=$rovingItems.eq(itemIdx-1);var hasPrevEl=($prevEl.length===1);var $lastEl=$rovingItems.eq($rovingItems.length-1);var $roveToEl=(hasPrevEl&&itemIdx!==0)?$prevEl:(options.wrap!==false)?$lastEl:$this;$this.attr('tabindex','-1');$roveToEl.attr('tabindex','0');$widget.trigger('rovingTabindexChange',$roveToEl.get(0));});$widget.on('nextRovingTabindex',function onNext(e){var $this=$(e.target);var itemIdx=$this.data(pluginName).idx;var $nextEl=$rovingItems.eq(itemIdx+1);var hasNextEl=($nextEl.length===1);var $firstEl=$rovingItems.eq(0);var $roveToEl=(hasNextEl)?$nextEl:(options.wrap!==false)?$firstEl:$this;$this.attr('tabindex','-1');$roveToEl.attr('tabindex','0');$widget.trigger('rovingTabindexChange',$roveToEl.get(0));});}
$rovingItems.each(function(idx,itm){var $itm=$(itm);$itm.data(pluginName,{'idx':idx});$itm.commonKeyDown();function triggerPrev(){$itm.trigger('prevRovingTabindex');}
function triggerNext(){$itm.trigger('nextRovingTabindex');}
if(axis==='x'){$itm.on('leftArrowKeyDown',triggerPrev);$itm.on('rightArrowKeyDown',triggerNext);}else if(axis==='y'){$itm.on('downArrowKeyDown',triggerNext);$itm.on('upArrowKeyDown',triggerPrev);}else{$itm.on('leftArrowKeyDown upArrowKeyDown',triggerPrev);$itm.on('rightArrowKeyDown downArrowKeyDown',triggerNext);}});});};}(jQuery,window,document));