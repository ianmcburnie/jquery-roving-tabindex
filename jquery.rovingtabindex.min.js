
(function($,window,document,undefined){var pluginName='jquery-roving-tabindex';$.fn.rovingTabindex=function rovingTabindex(rovingItemsSelector,options){options=$.extend({activeIndex:0,autoFocus:true,autoInit:true,autoReset:false,axis:'both',isGrid:false,wrap:true},options);return this.each(function onEachMatchedEl(){var $widget=$(this);var $rovingItems=$widget.find(rovingItemsSelector);var numRovingItems=$rovingItems.length;function updateTabindex($fromEl,$toEl){$fromEl.removeAttr('tabindex');$toEl.attr('tabindex','0');}
if(options.isGrid===true){$widget.gridNavigation(rovingItemsSelector,options);}else{$widget.linearNavigation(rovingItemsSelector,options);}
$widget.on('linearNavigationInit gridNavigationInit linearNavigationChange gridNavigationChange',function(e,data){var fromIndex=data.fromIndex;var toIndex=data.toIndex;var $roveFromEl=$rovingItems.eq(fromIndex);var $roveToEl=$rovingItems.eq(toIndex);updateTabindex($roveFromEl,$roveToEl);if(e.type!=='linearNavigationInit'&&e.type!=='gridNavigationInit'){if(options.autoFocus===true){setTimeout(function(){$rovingItems.eq(toIndex).focus();},0);}
$roveToEl.trigger('rovingTabindexChange',{fromIndex:fromIndex,toIndex:toIndex});}});$widget.on('rovingTabindexItemsChange',function(e){$rovingItems=$widget.find(rovingItemsSelector);numRovingItems=$rovingItems.length;if(options.isGrid===true){$widget.trigger('gridNavigationItemsChange');}else{$widget.trigger('linearNavigationItemsChange');}});});};}(jQuery,window,document));